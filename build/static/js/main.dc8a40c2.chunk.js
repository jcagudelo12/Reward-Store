(this["webpackJsonpreward-store"]=this["webpackJsonpreward-store"]||[]).push([[0],{144:function(e,t,s){"use strict";s.r(t);var c=s(0),n=s(38),i=s.n(n),a=(s(85),s(118),s(13)),o=s.p+"static/media/aerolab-logo.0a8fb170.svg",r=s.p+"static/media/header-x1.b6f067c6.png",j=s.p+"static/media/coin.b8bc711d.svg",l=s(156),d=s(159),b=s(157),u=s(52),p=s(23),O=s.n(p),h=s(1),m=function(e){var t=e.stateofpoints,s=e.setstateofpoints,n=e.points,i=e.setPoints,o=Object(c.useState)(""),r=Object(a.a)(o,2),p=r[0],m=r[1],f=Object(c.useState)(!1),g=Object(a.a)(f,2),x=g[0],N=g[1],v=Object(c.useState)([]),_=Object(a.a)(v,2),y=_[0],I=_[1],C={headers:{"Content-type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDAwZDllMzliNjk4OTAwMTlmNGI3NTMiLCJpYXQiOjE2MTA2Njg1MTV9.DJIRAx-_7ynGRqnK2GVur1VKCpj7i-kLB43IbuN-7g0"}};Object(c.useEffect)((function(){O.a.get("https://coding-challenge-api.aerolab.co/user/me",C).then((function(e){I(e.data),i(e.data.points)})).catch((function(e){console.error(e)}))}),[n]);var k=function(e){var c={amount:e};m("You added ".concat(e," points, now you have ").concat(e+n," points")),O.a.post("https://coding-challenge-api.aerolab.co/user/points",c,C).then((function(e){i(e.data["New Points"])})).catch((function(e){console.error(e)})),s(!t)};return Object(h.jsxs)(l.a,{onUnmount:function(){return m("")},size:"tiny",closeIcon:!0,open:x,trigger:Object(h.jsxs)("div",{className:"header_user_container",children:[Object(h.jsx)("div",{className:"header_user_name",children:y.name}),Object(h.jsxs)("div",{className:"header_user_coins",children:[n,Object(h.jsx)("div",{className:"coin_icon",children:Object(h.jsx)("img",{src:j,alt:"coin icon"})})]})]}),onClose:function(){return N(!1)},onOpen:function(){return N(!0)},children:[Object(h.jsx)(d.a,{icon:"money",content:"Add more points!"}),Object(h.jsx)(l.a.Content,{children:Object(h.jsx)("p",{children:"How many points do you want to add?"})}),Object(h.jsxs)(l.a.Actions,{className:"add_buttons",children:[Object(h.jsxs)(b.a,{onClick:function(){return k(1e3)},color:"black",children:[Object(h.jsx)(u.a,{name:"dollar sign"})," 1000"]}),Object(h.jsxs)(b.a,{onClick:function(){return k(5e3)},color:"black",children:[Object(h.jsx)(u.a,{name:"dollar sign"})," 5000"]}),Object(h.jsxs)(b.a,{onClick:function(){return k(7500)},color:"black",children:[Object(h.jsx)(u.a,{name:"dollar sign"})," 7500"]})]}),Object(h.jsx)(l.a.Content,{children:Object(h.jsx)("p",{className:"added_points",children:p})})]})},f=s(82),g=function(e){var t,s=e.points,n=Object(c.useState)(!1),i=Object(a.a)(n,2),o=i[0],r=i[1],j=Object(c.useState)([]),b=Object(a.a)(j,2),u=b[0],p=b[1];Object(c.useEffect)((function(){O.a.get("https://coding-challenge-api.aerolab.co/user/history",{headers:{"Content-type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDAwZDllMzliNjk4OTAwMTlmNGI3NTMiLCJpYXQiOjE2MTA2Njg1MTV9.DJIRAx-_7ynGRqnK2GVur1VKCpj7i-kLB43IbuN-7g0"}}).then((function(e){p(e.data.reverse())})).catch((function(e){console.error(e)}))}),[s]);return Object(h.jsxs)(l.a,{size:"large",closeIcon:!0,open:o,trigger:Object(h.jsx)("div",{className:"header_history",children:"History"}),onClose:function(){return r(!1)},onOpen:function(){return r(!0)},children:[Object(h.jsx)(d.a,{icon:"book",content:"History"}),Object(h.jsx)(l.a.Content,(t={className:"history",scrolling:!0},Object(f.a)(t,"className","redeem"),Object(f.a)(t,"children",Object(h.jsx)("div",{className:"history_body",children:u.map((function(e){return Object(h.jsxs)("div",{className:"history_item",children:[Object(h.jsx)("img",{src:e.img.url,alt:""}),Object(h.jsxs)("div",{children:[e.cost," $"]}),Object(h.jsx)("div",{children:e.name}),Object(h.jsx)("div",{children:e.createDate.substr(0,10)}),Object(h.jsx)("div",{children:e.createDate.substr(11,8)}),Object(h.jsx)("br",{})]},e.createDate)}))})),t))]})},x=s.p+"static/media/arrow-right.3306c112.svg",N=s.p+"static/media/arrow-left.e6eb9be1.svg",v=function(e){var t=e.id,s=e.img,n=e.cost,i=e.points,o=e.setPoints,r=e.stateofpoints,b=e.setstateofpoints,u=Object(c.useState)(!1),p=Object(a.a)(u,2),m=p[0],f=p[1],g=Object(c.useState)(""),x=Object(a.a)(g,2),N=(x[0],x[1]),v={headers:{"Content-type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDAwZDllMzliNjk4OTAwMTlmNGI3NTMiLCJpYXQiOjE2MTA2Njg1MTV9.DJIRAx-_7ynGRqnK2GVur1VKCpj7i-kLB43IbuN-7g0"}};return Object(h.jsxs)(l.a,{size:"mini",closeIcon:!0,open:m,trigger:n<i?Object(h.jsx)("div",{className:"item_button",onClick:function(){return function(e){var t={productId:e};O.a.post("https://coding-challenge-api.aerolab.co/redeem",t,v).then((function(e){N(e.data),o(i-n)})).catch((function(e){console.error(e)})),b(!r)}(t)},children:Object(h.jsx)("img",{className:"buy_img",alt:""})}):Object(h.jsxs)("div",{className:"item_missing_money",children:["You need ",n-i,Object(h.jsx)("div",{className:"coin_icon",children:Object(h.jsx)("img",{src:j,alt:"coin icon"})})]}),onClose:function(){f(!1)},onOpen:function(){return f(!0)},children:[Object(h.jsx)(d.a,{icon:"check",content:"Congratulations!"}),Object(h.jsx)(l.a.Content,{className:"redeem",children:Object(h.jsxs)("p",{children:["You successfully redeemed ",n," points and got:"]})}),Object(h.jsx)(l.a.Content,{className:"redeem",children:Object(h.jsx)("img",{src:s,alt:"item redeemed img"})})]})};var _=function(e){var t=e.id,s=e.cost,c=e.img,n=e.category,i=e.name,a=e.stateofpoints,o=e.setstateofpoints,r=e.points,l=e.setPoints;return Object(h.jsxs)("div",{className:"item_container",children:[Object(h.jsx)(v,{stateofpoints:a,setstateofpoints:o,points:r,setPoints:l,id:t,cost:s,img:c}),Object(h.jsx)("div",{className:"item_img_container",children:Object(h.jsx)("img",{className:"item_img",src:c,alt:"imagen del producto"})}),Object(h.jsx)("hr",{className:"separator_item"}),Object(h.jsxs)("div",{className:"item_info",children:[Object(h.jsx)("div",{className:"item_category",children:n}),Object(h.jsx)("div",{className:"item_name",children:i}),Object(h.jsxs)("div",{className:"item_cost",children:[s,Object(h.jsx)("div",{children:Object(h.jsx)("img",{className:"coin",src:j,alt:""})})]})]})]})},y=function(e){var t=e.page,s=e.filter,n=e.stateofpoints,i=e.setstateofpoints,o=e.points,r=e.setPoints,j={headers:{"Content-type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDAwZDllMzliNjk4OTAwMTlmNGI3NTMiLCJpYXQiOjE2MTA2Njg1MTV9.DJIRAx-_7ynGRqnK2GVur1VKCpj7i-kLB43IbuN-7g0"}},l=Object(c.useState)([]),d=Object(a.a)(l,2),b=d[0],u=d[1];Object(c.useEffect)((function(){O.a.get("https://coding-challenge-api.aerolab.co/products",j).then((function(e){u(e.data)})).catch((function(e){console.error(e)})),O.a.get("https://coding-challenge-api.aerolab.co/user/me",j).then((function(e){r(e.data.points)})).catch((function(e){console.error(e)}))}),[o]);var p=b?""===s?b:"highest"===s?b.sort((function(e,t){return t.cost-e.cost})):"lowest"===s?b.sort((function(e,t){return e.cost-t.cost})):"category"===s?b.sort((function(e,t){return e.category>t.category?1:e.category<t.category?-1:0})):[]:[],m=(p?"page1"===t?p.slice(0,16):p.slice(16,32):[]).map((function(e){return Object(h.jsx)(_,{stateofpoints:n,setstateofpoints:i,id:e._id,cost:e.cost,img:e.img.url,category:e.category,name:e.name,points:o,setPoints:r},e._id)}));return Object(h.jsx)("div",{className:"items_container",children:m})},I=function(e){var t=e.stateofpoints,s=e.setstateofpoints,c=e.page,n=e.changepage,i=e.filter,a=e.changefilter,o=e.points,r=e.setPoints;return Object(h.jsxs)("div",{className:"main_container",children:[Object(h.jsxs)("div",{className:"filters_container",children:[Object(h.jsx)("div",{className:"filters_products",children:"page1"===c?"16 of 32 products":"32 of 32 products"}),Object(h.jsx)("div",{className:"separator_products"}),Object(h.jsx)("div",{className:"filters_sort",children:"Sort by:"}),Object(h.jsx)("button",{className:"filters_sort_category",onClick:function(){return a("category")},children:"Category"}),Object(h.jsx)("button",{className:"filters_sort_lowest",onClick:function(){return a("lowest")},children:"Lowest price"}),Object(h.jsx)("button",{className:"filters_sort_highest",onClick:function(){return a("highest")},children:"Highest price"}),Object(h.jsx)("div",{className:"arrow",children:"page1"===c?Object(h.jsx)("img",{onClick:function(){return n("page2")},src:x,alt:""}):Object(h.jsx)("img",{onClick:function(){return n("page1")},src:N,alt:""})})]}),Object(h.jsx)("hr",{className:"separator_filter"}),Object(h.jsx)(y,{stateofpoints:t,setstateofpoints:s,page:c,filter:i,points:o,setPoints:r})]})},C=function(e){var t=e.stateofpoints,s=e.setstateofpoints,n=e.points,i=e.setPoints,o=Object(c.useState)("page1"),r=Object(a.a)(o,2),j=r[0],l=r[1],d=Object(c.useState)(""),b=Object(a.a)(d,2),u=b[0],p=b[1];return Object(h.jsx)(I,{stateofpoints:t,setstateofpoints:s,page:j,changepage:l,filter:u,changefilter:p,points:n,setPoints:i})},k=function(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2),s=t[0],n=t[1],i=Object(c.useState)([]),j=Object(a.a)(i,2),l=j[0],d=j[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"header",children:[Object(h.jsxs)("div",{className:"header_info_container",children:[Object(h.jsx)("img",{src:o,alt:"aerolab-logo"}),Object(h.jsx)(m,{stateofpoints:s,setstateofpoints:n,points:l,setPoints:d}),Object(h.jsx)(g,{points:l})]}),Object(h.jsxs)("div",{className:"header_hero_container",children:[Object(h.jsx)("img",{className:"header_hero_img",src:r,alt:"hero img"}),Object(h.jsx)("div",{className:"header_hero_text",children:"Electronics"})]})]}),Object(h.jsx)(C,{stateofpoints:s,setstateofpoints:n,points:l,setPoints:d})]})},J=function(){return Object(h.jsx)("div",{children:Object(h.jsx)(k,{})})};i.a.render(Object(h.jsx)(J,{}),document.getElementById("root"))},85:function(e,t,s){}},[[144,1,2]]]);
//# sourceMappingURL=main.dc8a40c2.chunk.js.map